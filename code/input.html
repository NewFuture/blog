<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://dgonebox7.live.com/cdn/1.7/index.min.css">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width, minimal-ui" />
    <title>聊天输入框</title>
</head>

<body>
    <main>
        <div class="ChatList" style=" text-align:center;background: linear-gradient(red, blue);height: 1500px;color:blanchedalmond">可向上滑动</div>
    </main>

    <footer class="ChatInput" component>
        <span class="ChatInput-icon i-pen"></span>
        <input style="height:30px" class="ChatInput-message" placeholder="输入消息" />
        <i class="ChatInput-btn i-send"></i>
    </footer>
    <script>
        /**
        * 系统版本
        */
        function ios_version() {
            var version = navigator.userAgent.toLowerCase().match(/cpu( iphone)? os (.*?) like mac os/);
            return version && parseInt(version[2].split('_')[0]);
        }
        var version = ios_version();
        //ios 10以及一下        
        if (version && version < 11) {
            // footer改为absolute
            var footer = document.querySelector('footer');
            footer.style.position = "absolute";
            //定死main中间高度,并让其可滚动
            var main = document.querySelector('main');
            main.style.overflowY = "scroll"
            main.style.overflowScrolling = "touch"
            main.style.height = (window.innerHeight - footer.clientHeight) + 'px';

            // ios 聚焦时滑动到最底部
            var input = document.querySelector('input');
            input.onfocus = () => {
                setTimeout(() => {
                    document.body.scrollTo(0, window.innerHeight);
                }, 250);
            };
            //显示测试信息
            input.placeholder += "(IOS" + version + ")";
        }

    </script>
</body>

</html>